(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,c){},55:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(27),i=c.n(a),r=c(2),l=(c(32),c(3)),o=c(5),j=c(0),b={dark:{backgroundColor:"#1f1f1f",color:"#f3f3f3"},light:{backgroundColor:"#EEEEEE",color:"#3f3f3f"}},u=Object(n.createContext)(),d=function(e){var t=e.children,c=Object(n.useState)(!0),s=Object(r.a)(c,2),a=s[0],i=s[1],l=a?b.dark:b.light;return Object(j.jsx)(u.Provider,{value:[{theme:l,isDark:a},function(){i(!a)}],children:t})},h=c.p+"static/media/pien-muller-Fh-Q-xfdh_o-unsplash.a55b2e95.jpg",O=c(6),m=c(7),x=function(){var e=Object(n.useContext)(u),t=Object(r.a)(e,2),c=t[0].isDark,s=t[1];return Object(j.jsx)("div",{className:"bg-yellow",children:Object(j.jsxs)("nav",{className:"nav",children:[Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{to:"/",children:Object(j.jsx)("h1",{children:"myconcerts"})})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(O.a,{icon:c?m.e:m.b,onClick:s,className:"icon"}),Object(j.jsx)(o.b,{to:"/login",children:Object(j.jsx)("h3",{children:"Sign In"})})]})]})})},f=function(){var e=Object(n.useContext)(u),t=Object(r.a)(e,1)[0].isDark;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{style:{height:"100vh"},children:[Object(j.jsx)(x,{}),window.innerWidth<=650?Object(j.jsxs)(j.Fragment,{children:[" ",Object(j.jsx)("img",{src:h,className:"home-img",alt:""}),Object(j.jsxs)("div",{className:"home-container",children:[Object(j.jsxs)("div",{className:"home-hero",children:[Object(j.jsx)("h1",{children:"Welcome to My Concerts"}),Object(j.jsx)("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Facere consequuntur aut provident minima reiciendis adipisci sequi eaque blanditiis mollitia pariatur!"})]}),Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{className:"text-link",to:"/signup",children:Object(j.jsx)("button",{className:t?"btn-yellow":"btn-dark",children:"Sign up here and find your next concert!"})})})]})]}):Object(j.jsxs)("div",{className:"hero",children:[Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"home-hero",children:[Object(j.jsx)("h1",{children:"Welcome to My Concerts"}),Object(j.jsx)("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Facere consequuntur aut provident minima reiciendis adipisci sequi eaque blanditiis mollitia pariatur!"})]})}),Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{className:"text-link",to:"/signup",children:Object(j.jsx)("button",{className:t?"btn-yellow":"btn-dark",children:"Sign up here and find your next concert!"})})})]})]})})},p=c(10),g=c.n(p),v=function(){var e=Object(n.useContext)(u),t=Object(r.a)(e,1)[0].isDark,c=Object(n.useState)(""),s=Object(r.a)(c,2),a=s[0],i=s[1],b=Object(n.useState)(""),d=Object(r.a)(b,2),h=d[0],f=d[1],p=Object(n.useState)(""),v=Object(r.a)(p,2),k=v[0],N=v[1],y=Object(n.useState)(void 0),w=Object(r.a)(y,2),C=w[0],S=w[1],E=Object(l.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x,{}),Object(j.jsxs)("div",{className:"form-container",children:[Object(j.jsx)("h3",{children:"Create an account"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={email:a,password:k,name:h};g.a.post("/auth/signup",t).then((function(e){E("/login")})).catch((function(e){void 0!==e.response.data.errors?S(e.response.data.errors[0].msg):S(e.response.data.msg)}))},children:[Object(j.jsx)("input",{className:t?"form-input-dark":"form-input-light",type:"text",placeholder:"Enter your name",value:h,onChange:function(e){return f(e.target.value)}}),Object(j.jsx)("input",{className:t?"form-input-dark":"form-input-light",type:"text",placeholder:"Enter your email",name:"email",value:a,onChange:function(e){return i(e.target.value)}}),Object(j.jsx)("input",{className:t?"form-input-dark":"form-input-light",type:"password",placeholder:"Pick a password",value:k,onChange:function(e){return N(e.target.value)}}),Object(j.jsx)("button",{className:t?"btn-yellow":"btn-dark",type:"submit",children:"Sign Up"}),C&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O.a,{className:"x",icon:m.f,size:"2x"}),Object(j.jsxs)("p",{className:"error-message",children:[" ",C]})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"You already have an account?"}),Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{to:"/login",children:Object(j.jsx)("button",{className:t?"btn-light":"btn-dark",children:"Sign in"})})})]})]})]})},k=s.a.createContext();function N(e){var t=Object(n.useState)(!1),c=Object(r.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(null),o=Object(r.a)(i,2),b=o[0],u=o[1],d=Object(l.g)(),h=function(){return new Promise((function(e,t){var c=localStorage.getItem("authToken");c?g.a.get("/auth/verify",{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){var c=t.data;u(c),a(!0),e()})).catch((function(e){a(!1),u(null),t()})):t()}))};return Object(n.useEffect)((function(){h().catch((function(e){}))}),[]),Object(j.jsx)(k.Provider,{value:{isLoggedIn:s,user:b,loginUser:function(e){return localStorage.setItem("authToken",e),h()},logoutUser:function(){localStorage.removeItem("authToken"),a(!1),u(null),d("/login")}},children:e.children})}var y=function(){var e=Object(n.useContext)(u),t=Object(r.a)(e,1)[0].isDark,c=Object(n.useState)(""),s=Object(r.a)(c,2),a=s[0],i=s[1],b=Object(n.useState)(""),d=Object(r.a)(b,2),h=d[0],f=d[1],p=Object(n.useState)(void 0),v=Object(r.a)(p,2),N=v[0],y=v[1],w=Object(n.useContext)(k).loginUser,C=Object(l.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x,{}),Object(j.jsxs)("div",{className:"form-container",children:[Object(j.jsx)("h3",{children:"Welcome back"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={email:a,password:h};g.a.post("/auth/login",t).then((function(e){var t=e.data.authToken;w(t).then((function(){C("/home")})).catch((function(e){return console.log(e)}))})).catch((function(e){void 0!==e.response.data.errors?y(e.response.data.errors[0].msg):y(e.response.data.msg)}))},children:[Object(j.jsx)("input",{className:t?"form-input-dark":"form-input-light",type:"text",placeholder:"Enter your email",name:"email",value:a,onChange:function(e){return i(e.target.value)}}),Object(j.jsx)("input",{className:t?"form-input-dark":"form-input-light",type:"password",placeholder:"Enter password",value:h,onChange:function(e){return f(e.target.value)}}),Object(j.jsx)("button",{className:t?"btn-yellow":"btn-dark",type:"submit",children:"Login"}),N&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O.a,{className:"x",icon:m.f,size:"2x"}),Object(j.jsxs)("p",{className:"error-message",children:[" ",N]})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"You don't have an account yet?"}),Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{to:"/signup",children:Object(j.jsx)("button",{className:t?"btn-light":"btn-dark",children:"Sign Up"})})})]})]})]})},w=function(){var e=Object(n.useContext)(u),t=Object(r.a)(e,2),c=t[0].isDark,s=t[1],a=Object(n.useContext)(k).logoutUser;return Object(j.jsx)("div",{className:"bg-yellow",children:Object(j.jsxs)("nav",{className:"nav user-nav",children:[Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"myconcerts"})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(O.a,{icon:c?m.e:m.b,onClick:s,className:"icon"}),Object(j.jsx)(o.b,{to:"/home",children:Object(j.jsx)(O.a,{className:"icon",icon:m.c})}),Object(j.jsx)(o.b,{to:"/my-concerts",children:Object(j.jsx)(O.a,{className:"icon",icon:m.d})}),Object(j.jsx)("h3",{className:"logout-btn",onClick:a,children:"Log Out"})]})]})})},C=c(57),S=c(11),E=function(){var e=Object(n.useContext)(u),t=Object(r.a)(e,1)[0].isDark,c=Object(n.useState)([]),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(""),b=Object(r.a)(l,2),d=b[0],h=b[1],x=Object(n.useState)(""),f=Object(r.a)(x,2),p=f[0],v=f[1],N=Object(n.useState)(""),y=Object(r.a)(N,2),E=y[0],F=y[1],T=Object(n.useState)(!1),L=Object(r.a)(T,2),D=L[0],z=L[1],I=Object(n.useState)(!1),U=Object(r.a)(I,2),q=U[0],P=U[1],W=Object(n.useContext)(k).user;Object(C.a)();var B=a.filter((function(e){return e.venue.country.toLowerCase().includes(p.toLowerCase())})).filter((function(e){return e.venue.city.toLowerCase().includes(d.toLowerCase())})),_=function(e){e.preventDefault(),F(e.target.artistName.value),e.target.artistName.value="",setTimeout((function(){P(!0)}),2e3)};return Object(n.useEffect)((function(){void 0!==E&&0!==E.length&&g.a.get("https://rest.bandsintown.com/artists/".concat(E,"/events?app_id=17a65355d3365096089d25b92d9c9c98")).then((function(e){i(e.data)})).catch((function(e){return console.log(e)}))}),[E]),Object(n.useEffect)((function(){var e=window.localStorage.getItem("events")||"[]";i(JSON.parse(e))}),[]),Object(n.useEffect)((function(){window.localStorage.setItem("events",JSON.stringify(a))}),[a]),Object(n.useEffect)((function(){window.addEventListener("scroll",(function(){window.pageYOffset>5e3?z(!0):z(!1)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(w,{}),Object(j.jsxs)("div",{className:"search-artist",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{className:t?"text-yellow":"text-bold",children:"Search"})," ","for the next concert by your favorite Artist! Check if they play in your city and save it in your own calendar."]})}),window.innerWidth>=1100?Object(j.jsxs)("form",{onSubmit:_,children:[Object(j.jsx)("input",{id:"input-fr",className:t?"btn-yellow":"btn-dark",value:"Search",type:"submit"}),Object(j.jsx)("div",{className:"div-search-input",children:Object(j.jsx)("input",{id:"search-input",className:t?"form-input-dark":"form-input-light",name:"artistName",type:"text",placeholder:"Search artist"})})]}):Object(j.jsxs)("form",{onSubmit:_,children:[Object(j.jsx)("input",{id:"search-input",className:t?"form-input-dark":"form-input-light",name:"artistName",type:"text",placeholder:"Search artist"}),Object(j.jsx)("button",{className:t?"btn-yellow":"btn-dark",type:"submit",children:"Search"})]}),0===(void 0===E||E.length)?"":0===a.length&&!0===q&&Object(j.jsx)("p",{className:"artist-not-found",children:"This artist has no upcoming concerts scheduled or does not exist, please check for any spell mistakes & try again"}),0===a.length?"":Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{id:"filter-input",className:t?"form-input-dark":"form-input-light",value:d,type:"text",onChange:function(e){h(e.target.value)},placeholder:"Filter by city"}),Object(j.jsx)("input",{id:"filter-input",className:t?"form-input-dark":"form-input-light",value:p,type:"text",onChange:function(e){v(e.target.value)},placeholder:"Filter by country"})]})]}),Object(j.jsx)("div",{children:B.map((function(e){return Object(j.jsxs)("div",{className:"event-card",children:[Object(j.jsx)("h3",{children:a[0].artist.name}),Object(j.jsxs)("div",{className:"flex-card",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:["Location: ",e.venue.location]}),Object(j.jsxs)("p",{children:["Venue Name: ",e.venue.name]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:["Date: ",e.datetime.slice(0,10)]}),Object(j.jsxs)("p",{children:["Time: ",e.datetime.slice(11,16)]})]})]}),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{className:"mb1",children:["Tickets Status:"," ",Object(j.jsx)("span",{className:"text-yellow",children:e.offers[0]?e.offers[0].status.toUpperCase():"UNKNOWN"})]})}),Object(j.jsxs)("div",{className:"flex-card",children:[Object(j.jsx)("div",{children:Object(j.jsx)("a",{target:"blank",href:e.offers[0]?e.offers[0].url:"",children:e.offers[0]?Object(j.jsx)("button",{className:t?"btn-yellow":"btn-dark",children:"Buy tickets"}):""})}),Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{to:"",children:Object(j.jsx)("h5",{onClick:function(t){var c={user:W._id,artistName:a[0].artist.name,location:e.venue.location,venueName:e.venue.name,date:e.datetime.slice(0,10),time:e.datetime.slice(11,16)};g.a.post("/api/concerts",c).then((function(e){})).catch((function(e){return console.log(e)}))},className:t?"btn-light":"btn-dark",children:"Save to my calendar"})})})]}),Object(j.jsxs)("div",{className:"social-icons",children:[0!==a[0].artist.links.length?a[0].artist.links.map((function(e){return"facebook"===e.type?Object(j.jsx)("a",{target:"blank",href:e.url,children:Object(j.jsx)(O.a,{className:t?"icon-light":"icon-dark",icon:S.a,size:"lg"})},C.a):""})):"",0!==a[0].artist.links.length?a[0].artist.links.map((function(e){return"instagram"===e.type?Object(j.jsx)("a",{target:"blank",href:e.url,children:Object(j.jsx)(O.a,{className:t?"icon-light":"icon-dark",icon:S.b,size:"lg"})},C.a):""})):"",0!==a[0].artist.links.length?a[0].artist.links.map((function(e){return"twitter"===e.type?Object(j.jsx)("a",{target:"blank",href:e.url,children:Object(j.jsx)(O.a,{className:t?"icon-light":"icon-dark",icon:S.f,size:"lg"})},C.a):""})):"",0!==a[0].artist.links.length?a[0].artist.links.map((function(e){return"youtube"===e.type?Object(j.jsx)("a",{target:"blank",href:e.url,children:Object(j.jsx)(O.a,{className:t?"icon-light":"icon-dark",icon:S.g,size:"lg"})},C.a):""})):"",0!==a[0].artist.links.length?a[0].artist.links.map((function(e){return"spotify"===e.type?Object(j.jsx)("a",{target:"blank",href:e.url,children:Object(j.jsx)(O.a,{className:t?"icon-light":"icon-dark",icon:S.e,size:"lg"})},C.a):""})):"",0!==a[0].artist.links.length?a[0].artist.links.map((function(e){return"itunes"===e.type?Object(j.jsx)("a",{target:"blank",href:e.url,children:Object(j.jsx)(O.a,{className:t?"icon-light":"icon-dark",icon:S.c,size:"lg"})},C.a):""})):"",0!==a[0].artist.links.length?a[0].artist.links.map((function(e){return"soundcloud"===e.type?Object(j.jsx)("a",{target:"blank",href:e.url,children:Object(j.jsx)(O.a,{className:t?"icon-light":"icon-dark",icon:S.d,size:"lg"})},C.a):""})):""]})]},e.id)}))}),D&&Object(j.jsx)(O.a,{icon:m.a,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},className:t?"back-to-top-yellow":"back-to-top-dark"})]})},F=function(){var e=Object(n.useContext)(u),t=Object(r.a)(e,1)[0].isDark,c=Object(n.useState)([]),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(!1),o=Object(r.a)(l,2),b=o[0],d=o[1],h=localStorage.getItem("authToken");Object(n.useEffect)((function(){O()}),[]),Object(n.useEffect)((function(){setTimeout((function(){d(!0)}),1e3)}));var O=function(){g.a.get("/api/concerts",{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){i(e.data)})).catch((function(e){return console.log(e)}))};return Object(j.jsxs)("div",{className:"my-list",children:[Object(j.jsx)(w,{}),Object(j.jsx)("h1",{children:"My Concerts"}),0===a.length&&!0===b&&Object(j.jsx)("p",{className:"artist-not-found",children:"Check out the search page and add your first concert !!!"}),a.map((function(e){return Object(j.jsx)("div",{className:"concert-list",children:Object(j.jsxs)("div",{className:"event-card",children:[Object(j.jsx)("h3",{className:t?"text-yellow":"text-bold",children:e.artistName}),Object(j.jsxs)("div",{className:"flex-card",children:[Object(j.jsxs)("div",{className:"mb2",children:[Object(j.jsxs)("p",{children:["Location: ",e.location]}),Object(j.jsxs)("p",{children:["Venue Name: ",e.venueName]})]}),Object(j.jsxs)("div",{className:"flex-card-list",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{className:t?"text-yellow":"text-bold",children:["Date: ",e.date]}),Object(j.jsxs)("p",{className:t?"text-yellow":"text-bold",children:["Time: ",e.time]})]}),Object(j.jsx)("h5",{onClick:function(){g.a.delete("/api/".concat(e._id)).then((function(){console.log("success"),O()})).catch((function(e){return console.log(e)}))},className:t?"btn-light":"btn-dark",children:"Remove"})]})]})]})},e._id)}))]})},T=function(e){var t=e.children,c=e.redirectTo,s=Object(n.useContext)(k).isLoggedIn,a=Object(n.useState)(!0),i=Object(r.a)(a,2),o=i[0],b=i[1];return Object(n.useEffect)((function(){setTimeout((function(){b(!1)}),10)}),[]),o?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(x,{})}):s?t:Object(j.jsx)(l.a,{to:c})},L=function(){var e=Object(n.useContext)(u),t=Object(r.a)(e,1)[0].theme;return Object(j.jsx)("div",{className:"app",style:{backgroundColor:t.backgroundColor,color:t.color},children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/home",element:Object(j.jsx)(T,{redirectTo:"/login",children:Object(j.jsx)(E,{})})}),Object(j.jsx)(l.b,{path:"/my-concerts",element:Object(j.jsx)(T,{redirectTo:"/login",children:Object(j.jsx)(F,{})})}),Object(j.jsx)(l.b,{path:"/",element:Object(j.jsx)(f,{})}),Object(j.jsx)(l.b,{path:"/signup",element:Object(j.jsx)(v,{})}),Object(j.jsx)(l.b,{path:"/login",element:Object(j.jsx)(y,{})})]})})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,58)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(d,{children:Object(j.jsx)(N,{children:Object(j.jsx)(L,{})})})}),document.getElementById("root")),D()}},[[55,1,2]]]);
//# sourceMappingURL=main.0ec398dc.chunk.js.map